---
import { Icon } from 'astro-icon/components';

const phoneNumber = '+19295636966'; // +1 (929) 563-6966 formatted for WhatsApp
const whatsappUrl = `https://wa.me/${phoneNumber}`;
const message = 'Hello! I need help with IPTV Smarters.';
const fullUrl = `${whatsappUrl}?text=${encodeURIComponent(message)}`;
---

<div class="fixed bottom-6 right-6 z-50 group">
  <!-- Alert/Notification Badge -->
  
  
  <!-- Tooltip/Alert Message -->
  <div class="absolute bottom-full right-0 mb-3 hidden group-hover:block animate-fade-in">
    <div class="bg-gray-900 dark:bg-gray-800 text-white text-sm rounded-lg px-4 py-2 shadow-xl whitespace-nowrap">
      <div class="flex items-center gap-2">
        <Icon name="tabler:brand-whatsapp" class="w-4 h-4 text-green-400" />
        <span>Chat with us on WhatsApp!</span>
      </div>
      <div class="absolute bottom-0 right-4 transform translate-y-1/2 rotate-45 w-2 h-2 bg-gray-900 dark:bg-gray-800"></div>
    </div>
  </div>
  
  <!-- WhatsApp Button -->
  <a
    href={fullUrl}
    target="_blank"
    rel="noopener noreferrer"
    class="flex items-center justify-center w-16 h-16 bg-green-500 hover:bg-green-600 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-110"
    aria-label="Contact us on WhatsApp"
    title="Chat with us on WhatsApp"
  >
    <Icon name="tabler:brand-whatsapp" class="w-8 h-8" />
  </a>
</div>

<style>
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .animate-fade-in {
    animation: fade-in 0.3s ease-out;
  }
</style>

